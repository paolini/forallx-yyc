% forallxyyc-accessible
% Driver file to produce accessible of forall x:YYC for screen reading
% Larger type, line spacing & tracking, dyslexia-friendly typeface, 
% no ligatures, no text justification

\documentclass[openany,oneside,12pt]{memoir}

% set stock & paper size with narrow margins

\setstocksize{8in}{5in}

\settrimmedsize{\stockheight}{\stockwidth}{*}
\settrims{0pt}{0pt}

% set the size of the type block

\settypeblocksize{*}{300pt}{1.52}

% set spine and and edge margin

\setlrmargins{*}{*}{1}
\setulmargins{.6in}{*}{*}
\setheaderspaces{*}{*}{1}

\checkandfixthelayout

% make output PDF/A compliant

\RequirePackage[a-1b]{pdfx}

% load forall x style and macro definitions

\usepackage{forallxyyc-style}
\usepackage{forallxyyc}

\usepackage[absolute,overlay]{textpos}

% Accessibility: use a sans-serif font
% GoSans is designed by Bigelow & Holmes, also the makers of the Dyslexia font

\usepackage[sfdefault]{GoSans}
\usepackage{sfmath}
\usepackage[T1]{fontenc}


\renewcommand*{\chaptitlefont}{\normalfont\fontsize{40pt}{40pt}\selectfont\bfseries\color{leadbeater}}
\renewcommand*{\parttitlefont}{\normalfont\fontsize{40pt}{40pt}\selectfont\bfseries\color{leadbeater}}

\setlength{\midchapskip}{50pt}


\makeatletter
  \renewcommand*{\printchaptername}{%
    \chapnamefont\@chapapp}
\makeatother
  
\renewcommand*{\printchaptertitle}[1]{\begin{Spacing}{1.1}
  \chaptitlefont #1\\[-\baselineskip]%
\end{Spacing}
    \hspace*{-20pt}%
    \smash{\color{leadbeater}\rule{7pt}{\barlength}}}
\renewcommand{\printparttitle}[1]{\RaggedRight\parttitlefont #1}
\renewcommand*{\printpartname}{%
\RaggedRight\partnamefont Part}

\definecolor{lyallpink}{RGB}{222,31,149}
\colorlet{leadbeater}{lyallpink}
\colorlet{dkleadbeater}{lyallpink!80!black}
\colorlet{ltleadbeater}{lyallpink!50}
\colorlet{vltleadbeater}{lyallpink!3}

% Accessibility

% used for letter tracking/spacing
\RequirePackage[tracking=alltext]{microtype}

% Part numbers need more space in TOC
\setlength{\cftpartnumwidth}{5em}

\renewcommand{\cftchapterfont}{\textsf}
\renewcommand{\cftchapterpagefont}{\textsf}

% set text ragged right
%\usepackage{ragged2e} % use this to get hyphenation
\let\RaggedRight\raggedright

\begin{document}

% discard page after cover
%\AtBeginShipoutNext{\AtBeginShipoutNext{\AtBeginShipoutDiscard}}

\midsloppy\raggedbottom

% Cover Page

\thispagestyle{empty}
\setcounter{page}{0}

\begin{textblock*}{\stockwidth}(0in,3.5in)
  \noindent\includegraphics{assets/forallx-coverart-screen.pdf}
\end{textblock*}

% make front cover
\begin{textblock*}{0in}(0in,0in)
  \noindent\hfill
  \begin{minipage}[b][\stockheight][s]{.9\stockwidth}
    \begin{raggedleft}
      \vspace*{1.2cm}
      \hfill
      \sffamily\fontsize{66pt}{0pt}\selectfont
      \color{lyallpink}
      \textbf{forall}%
      \fontsize{80pt}{0pt}\selectfont\rmfamily\textit{\textbf{x}\/}
                    
      \vskip.5cm
          
      \sffamily\fontsize{24pt}{28pt}\selectfont
      \color{black}
      \textbf{\uppercase{Calgary}\\ (Accessible)}

      \vspace*{1cm}
      \color{black}
      \sffamily
      \fontsize{20pt}{22pt}\selectfont
      \textbf{An Introduction to\\ Formal Logic}

      \vfill
      \fontsize{11pt}{14pt}\selectfont
      \color{white}
      \textbf{P.~D. Magnus}\\
      \textbf{Tim Button}\\
      \textbf{Robert Trueman}\\
      \textbf{Richard Zach}\\
      \textit{with contributions by}\\
      \textbf{J.~Robert Loftis}\\
      \textbf{Aaron Thomas-Bolduc}\par
      \vspace{1cm}
      \forallxversion\par
      \vspace{1cm}
    \end{raggedleft}
  \end{minipage}
  \hspace*{1cm}
\end{textblock*}
\ 
\newpage\color{black}

% Turn on accessibility

% increase line spacing
\setSingleSpace{1.3}
\SingleSpacing

% set text ragged right and increase paragraph spacing
\RaggedRight
\setlength\parindent{2em}
\setlength\parskip{1em}

% increase character spacing
\SetTracking[no ligatures = f]{encoding=*,shape=*}{70}

% avoid italics and small caps
\let\emph\textbf
\renewcommand*{\define}[1]{\textbf{\color{leadbeater}#1}}

% no all caps in headers
\nouppercaseheads

\setlength{\barlength}{0pt}
\input{forallx-yyc-content}

\end{document}
